## é¢„å¤‡çŸ¥è¯†

![image-20201216221023868](https://gitee.com/smithbee/image_bed/raw/master/image-20201216221023868.png)

### ä¸€ã€pythonåŸºç¡€

#### 1. åˆ—è¡¨æ¨å¯¼å¼ä¸æ¡ä»¶èµ‹å€¼

- åœ¨ç”Ÿæˆä¸€ä¸ªæ•°å­—åºåˆ—çš„æ—¶å€™ï¼Œåœ¨**python**ä¸­å¯ä»¥å¦‚ä¸‹å†™å‡ºï¼š

```python
L = []

def my_function(x):
    return 2 * x

for i in range(5):
    L.append(my_function(i))
    
print(L)

'''
[0, 2, 4, 6, 8]
'''
```

- äº‹å®ä¸Šå¯ä»¥åˆ©ç”¨åˆ—è¡¨æ¨å¯¼å¼è¿›è¡Œå†™æ³•ä¸Šçš„ç®€åŒ–ï¼š `[* for i in *]` ã€‚å…¶ä¸­ï¼Œç¬¬ä¸€ä¸ª `*` ä¸ºæ˜ å°„å‡½æ•°ï¼Œå…¶è¾“å…¥ä¸ºåé¢ `i` æŒ‡ä»£çš„å†…å®¹ï¼Œç¬¬äºŒä¸ª `*` è¡¨ç¤ºè¿­ä»£çš„å¯¹è±¡ã€‚

```python 
#ä¸‹é¢å¯ä»¥å¾—åˆ°ç›¸åŒçš„æ•ˆæœ
def my_function(x):
    return 2 * x

L = [my_function(i) for i in range(5)]

print(L)

'''
[0, 2, 4, 6, 8]
'''
```

- åˆ—è¡¨è¡¨è¾¾å¼è¿˜æ”¯æŒå¤šå±‚åµŒå¥—ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­ä¸­ç¬¬ä¸€ä¸ª `for` ä¸ºæœ€å†…å±‚å¾ªç¯ï¼Œç„¶åä¾æ¬¡å‘å¤–å±‚ ï¼Œè®¡ç®—é¡ºåº**ä»å‰åˆ°å**

```python 
L = [m + '_' + n for m in ['a','b'] for n in ['c','d']]
# m ä¸ºæœ€å†…å±‚å±‚å¾ªç¯  n ä¸ºå¤–å±‚å¾ªç¯
print(L)

'''
['a_c', 'a_d', 'b_c', 'b_d']
'''
```

- é™¤äº†åˆ—è¡¨æ¨å¯¼å¼ï¼Œå¦ä¸€ä¸ªå®ç”¨çš„è¯­æ³•ç³–æ˜¯æ¡ä»¶èµ‹å€¼ï¼Œå…¶å½¢å¼ä¸º `value = a if condition else b` ,æœ‰äº›ç±»ä¼¼äº é—®å·è¡¨è¾¾å¼(å…¶ä»–è¯­è¨€ ğŸ˜‚ )

```python
value = 'cat' if 2 > 1 else 'dog'
print(value)

'''
cat
'''
```

```python
#ç­‰ä»·äºä¸‹é¢çš„å†™æ³•
a,b = 'cat','dog'
condition = 2 > 1 #æ­¤æ—¶ä¸ºTrue
if condition:
    value = a
else:
    value = b
    
print(value)

'''
cat
'''
```

```python
# æˆªæ–­åˆ—è¡¨ä¸­è¶…è¿‡5çš„å…ƒç´ 
L = [1,2,3,4,5,6,7,8,9]

Ls = [i if i <= 5 else 5 for i in L]
print(Ls)

'''
[1, 2, 3, 4, 5, 5, 5, 5, 5]
'''
```

#### 2. åŒ¿åå‡½æ•°ä¸mapæ–¹æ³•

- æœ‰ä¸€äº›å‡½æ•°çš„å®šä¹‰å…·æœ‰æ¸…æ™°ç®€å•çš„æ˜ å°„å…³ç³»ï¼Œä¾‹å¦‚ä¸Šé¢çš„ `my_function` å‡½æ•°ï¼Œè¿™æ—¶å€™å¯ä»¥ç”¨åŒ¿åå‡½æ•°çš„æ–¹æ³•ç®€æ´åœ°è¡¨ç¤º

```python
#åŒ¿åå‡½æ•°
my_function = lambda x : 2 * x
print(my_function(3))

multi_para_func = lambda a,b : a + b
print(multi_para_func(1,2))

'''
6
3
'''
```

- ä½†ä¸Šé¢çš„ç”¨æ³•å…¶å®è¿èƒŒäº†â€œåŒ¿åâ€çš„å«ä¹‰ï¼Œäº‹å®ä¸Šå®ƒå¾€å¾€åœ¨æ— éœ€å¤šå¤„è°ƒç”¨çš„åœºåˆè¿›è¡Œä½¿ç”¨ï¼Œä¾‹å¦‚ä¸Šé¢åˆ—è¡¨æ¨å¯¼å¼ä¸­çš„ä¾‹å­ï¼Œç”¨æˆ·ä¸å…³å¿ƒå‡½æ•°çš„åå­—ï¼Œåªå…³å¿ƒè¿™ç§æ˜ å°„çš„å…³ç³»

```python
L = [(lambda x : 2 * x)(i) for i in range(5)]
print(L)

'''
[0, 2, 4, 6, 8]
'''
```

- å¯¹äºä¸Šè¿°çš„è¿™ç§åˆ—è¡¨æ¨å¯¼å¼çš„åŒ¿åå‡½æ•°æ˜ å°„ï¼Œ `Python` ä¸­æä¾›äº† `map` å‡½æ•°æ¥å®Œæˆï¼Œå®ƒè¿”å›çš„æ˜¯ä¸€ä¸ª `map` å¯¹è±¡ï¼Œéœ€è¦é€šè¿‡ `list` è½¬ä¸ºåˆ—è¡¨

```python
L = list(map(lambda x : 2 * x,range(5)))
print(L)

'''
[0, 2, 4, 6, 8]
'''
```

- å¯¹äºå¤šä¸ªè¾“å…¥å€¼çš„å‡½æ•°æ˜ å°„ï¼Œå¯ä»¥é€šè¿‡è¿½åŠ è¿­ä»£å¯¹è±¡å®ç°

```python
L = list(map(lambda x,y : str(x) + '_' + y,range(5),list('abcde')))
print(L)

'''
['0_a', '1_b', '2_c', '3_d', '4_e']
'''
```

#### 3. zipå¯¹è±¡ä¸enumerateæ–¹æ³•

---



(1) **zip()**

**zip()** å‡½æ•°ç”¨äºå°†å¯è¿­ä»£çš„å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå°†å¯¹è±¡ä¸­å¯¹åº”çš„å…ƒç´ æ‰“åŒ…æˆä¸€ä¸ªä¸ªå…ƒç»„ï¼Œç„¶åè¿”å›ç”±è¿™äº›å…ƒç»„ç»„æˆçš„åˆ—è¡¨ã€‚

å¦‚æœå„ä¸ªè¿­ä»£å™¨çš„å…ƒç´ ä¸ªæ•°ä¸ä¸€è‡´ï¼Œåˆ™è¿”å›åˆ—è¡¨é•¿åº¦ä¸æœ€çŸ­çš„å¯¹è±¡ç›¸åŒï¼Œåˆ©ç”¨ ***** å·æ“ä½œç¬¦ï¼Œå¯ä»¥å°†å…ƒç»„è§£å‹ä¸ºåˆ—è¡¨ã€‚

```python
# å®šä¹‰ä¸‰ä¸ªåˆ—è¡¨
a = [1,2,3]
b = [4,5,6]
c = [4,5,6,7,8,9]

a_b = zip(a,b)
print(list(a_b))
print(a_b)
print(list(a_b)) # ä½¿ç”¨ä¸€æ¬¡è¿‡å a_bä¼šè¢«æ”¹å˜

# ä»¥æœ€çŸ­çš„ä¿æŒä¸€è‡´
a_c = zip(a,c)
print(tuple(a_c))

'''
[(1, 4), (2, 5), (3, 6)]
<zip object at 0x000001B70D8CFA48>
[]
((1, 4), (2, 5), (3, 6))
'''
```

(2) **zip(*zipped)**

**zip(*zipped)**ä¸­çš„ ***zipped**å‚æ•°ï¼Œå¯ä»¥**list**æ•°ç»„ï¼Œä¹Ÿå¯ä»¥æ˜¯**zip()**å‡½æ•°è¿”å›çš„å¯¹è±¡ã€‚

```python 
# å£°æ˜ä¸€ä¸ªåˆ—è¡¨ 
nums = [[1,2,3],[4,5,6]]
# å‚æ•°ä¸ºä¸€ä¸ªåˆ—è¡¨
print(list(zip(*nums)))

a = [1,2,3]
b = [4,5,6]
# å‚æ•°ä¸ºzip()å‡½æ•°è¿”å›çš„å¯¹è±¡
zipped = zip(a,b)
print(list(zip(*zipped)))

'''
[(1, 4), (2, 5), (3, 6)] ç›¸å½“äºzip()
[(1, 2, 3), (4, 5, 6)] è§£å‹äº†
'''
```

(3) ***zip()**

***zip()**å‡½æ•°æ˜¯**zip()**å‡½æ•°çš„é€†è¿‡ç¨‹ï¼Œå°†zipå¯¹è±¡å˜æˆåŸå…ˆç»„åˆå‰çš„æ•°æ®ã€‚

```python
# *zip()å‡½æ•°
# å£°æ˜ä¸¤ä¸ªåˆ—è¡¨
m = [1,2,3]
n = [4,5,6]

zipped = zip(a,b)
print(list(zipped))
print(list(zip(*zip(a,b)))) # zip()ä¸*zip() äº’ä¸ºé€†è¿‡ç¨‹

'''
[(1, 4), (2, 5), (3, 6)]
[(1, 2, 3), (4, 5, 6)]
'''
```



---



- zipå‡½æ•°èƒ½å¤ŸæŠŠå¤šä¸ªå¯è¿­ä»£å¯¹è±¡æ‰“åŒ…æˆä¸€ä¸ªå…ƒç»„æ„æˆçš„å¯è¿­ä»£å¯¹è±¡ï¼Œå®ƒè¿”å›äº†ä¸€ä¸ª `zip` å¯¹è±¡ï¼Œé€šè¿‡ `tuple, list` å¯ä»¥å¾—åˆ°ç›¸åº”çš„æ‰“åŒ…ç»“æœ

```python
#zip
L1,L2,L3 = list('abc'),list('def'),list('hij')

print(list(zip(L1,L2,L3)))#list å½¢å¼
print(tuple(zip(L1,L2,L3)))#tuple å½¢å¼

'''
[('a', 'd', 'h'), ('b', 'e', 'i'), ('c', 'f', 'j')]
(('a', 'd', 'h'), ('b', 'e', 'i'), ('c', 'f', 'j'))
'''
```

- å¾€å¾€ä¼šåœ¨å¾ªç¯è¿­ä»£çš„æ—¶å€™ä½¿ç”¨åˆ° `zip` å‡½æ•°

```python
L1,L2,L3 = list('abc'),list('def'),list('hij')
for i,j,k in zip(L1,L2,L3):
    print(i,j,k)
    
'''
a d h
b e i
c f j
'''
```



- `enumerate` æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ‰“åŒ…ï¼Œå®ƒå¯ä»¥åœ¨è¿­ä»£æ—¶ç»‘å®šè¿­ä»£å…ƒç´ çš„éå†åºå·

```python 
L = list('abcd')
for index,value in enumerate(L):
    print(index,value)
    
'''
0 a
1 b
2 c
3 d
'''
```

ç”¨ `zip` å¯¹è±¡ä¹Ÿèƒ½å¤Ÿç®€å•åœ°å®ç°è¿™ä¸ªåŠŸèƒ½

```python
# zip()ä¹Ÿå¯ä»¥å®ç°enumerate çš„åŠŸèƒ½
nbaPlayersName = ['å‹’å¸ƒæœ—','æœå…°ç‰¹','åº“é‡Œ','å°å¡','å­—æ¯å“¥']
print("æˆ‘å¿ƒä¸­çš„ç°å½¹å‰äº”ï¼š")
for num,name in zip(range(len(nbaPlayersName)),nbaPlayersName):
    print(num + 1,name)
    
'''
æˆ‘å¿ƒä¸­çš„ç°å½¹å‰äº”ï¼š
1 å‹’å¸ƒæœ—
2 æœå…°ç‰¹
3 åº“é‡Œ
4 å°å¡
5 å­—æ¯å“¥
'''
```

- å½“éœ€è¦å¯¹ä¸¤ä¸ªåˆ—è¡¨å»ºç«‹å­—å…¸æ˜ å°„æ—¶ï¼Œå¯ä»¥åˆ©ç”¨ `zip` å¯¹è±¡

```python 
books = ['ä½ çš„å­¤ç‹¬ï¼Œè™½è´¥çŠ¹è£','æˆ‘åœ¨ç­‰é£ï¼Œä¹Ÿç­‰ä½ ','ä¹–ï¼Œæ‘¸æ‘¸å¤´']
authors = ['åˆ˜åŒ','ä½•å°ç„¶','å¤§å†°']
print(dict(zip(books,authors))) # å­—å…¸å½¢å¼

'''
{'ä½ çš„å­¤ç‹¬ï¼Œè™½è´¥çŠ¹è£': 'åˆ˜åŒ', 'æˆ‘åœ¨ç­‰é£ï¼Œä¹Ÿç­‰ä½ ': 'ä½•å°ç„¶', 'ä¹–ï¼Œæ‘¸æ‘¸å¤´': 'å¤§å†°'}
'''
```

- æ—¢ç„¶æœ‰äº†å‹ç¼©å‡½æ•°ï¼Œé‚£ä¹ˆ `Python` ä¹Ÿæä¾›äº† `*` æ“ä½œç¬¦å’Œ `zip` è”åˆä½¿ç”¨æ¥è¿›è¡Œè§£å‹æ“ä½œ

```python
L1,L2,L3 = list('abc'),list('def'),list('hij')

print(list(zip(L1,L2,L3)))
print(list(zip(*zip(L1,L2,L3)))) # ä¸‰ä¸ªå…ƒç»„åˆ†åˆ«å¯¹åº”åŸæ¥çš„åˆ—è¡¨

'''
[('a', 'd', 'h'), ('b', 'e', 'i'), ('c', 'f', 'j')]
[('a', 'b', 'c'), ('d', 'e', 'f'), ('h', 'i', 'j')]
'''
```



### äºŒã€numpyåŸºç¡€

#### 1. npæ•°ç»„çš„æ„é€ 

- æœ€ä¸€èˆ¬çš„æ–¹æ³•æ˜¯é€šè¿‡`array`æ¥æ„é€ 

```python
import numpy as np

arr = np.array([1,2,3])
print(arr)
print(type(arr))

'''
[1 2 3]
<class 'numpy.ndarray'>
'''
```

- ç‰¹æ®Šæ•°ç»„çš„ç”Ÿæˆæ–¹å¼

  - ç­‰å·®åºåˆ—ï¼š`np.linspace`, `np.arange`

  - ç‰¹æ®ŠçŸ©é˜µï¼š`zeros`, `eye` , `full`
  - éšæœºçŸ©é˜µï¼š`np.random`

```python
# ç­‰å·®åºåˆ—
import numpy as np 

arr01 = np.linspace(1,5,11) # èµ·å§‹ã€ç»ˆæ­¢(åŒ…å«)ã€æ ·æœ¬ä¸ªæ•°     ç­‰åˆ†
print(arr01)

arr02 = np.arange(1,5,2) # èµ·å§‹ã€ç»ˆæ­¢(ä¸åŒ…å«)ã€æ­¥é•¿
print(arr02)

'''
[1.  1.4 1.8 2.2 2.6 3.  3.4 3.8 4.2 4.6 5. ]
[1 3]
'''
```



```python
# ç‰¹æ®ŠçŸ©é˜µ
import numpy as np 

arr_zero = np.zeros((3,3)) # é›¶çŸ©é˜µ  (3,3)è¡¨ç¤ºçŸ©é˜µå„ç»´åº¦çš„å¤§å°
print(arr_zero)

arr_eye = np.eye(3) # 3*3 çš„å•ä½çŸ©é˜µ
print(arr_eye)

arr_eye_flase = np.eye(3,k = 1) # åç§»ä¸»å¯¹è§’çº¿1ä¸ªå•ä½çš„ä¼ªå•ä½çŸ©é˜µ
print(arr_eye_flase)

arr_full = np.full((2,3),10) # å…ƒç»„ä¼ å…¥å¤§å°ï¼Œ10 è¡¨ç¤ºå¡«å……æ•°å€¼
print(arr_full)

arr_full_a = np.full((2,3),[1,2,3]) # é€šè¿‡ä¼ å…¥åˆ—è¡¨å¡«å……æ¯åˆ—çš„å€¼
print(arr_full_a)

'''
[[0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]]
[[1. 0. 0.]
 [0. 1. 0.]
 [0. 0. 1.]]
[[0. 1. 0.]
 [0. 0. 1.]
 [0. 0. 0.]]
[[10 10 10]
 [10 10 10]]
[[1 2 3]
 [1 2 3]]
'''

```



```python
# éšæœºçŸ©é˜µ01
'''

æœ€å¸¸ç”¨çš„éšæœºç”Ÿæˆå‡½æ•°ä¸º 
    rand     :  0-1å‡åŒ€åˆ†å¸ƒçš„éšæœºæ•°ç»„
    randn    :  æ ‡å‡†æ­£æ€çš„éšæœºæ•°ç»„
    randint  :  éšæœºæ•´æ•°ç»„
    choice   :  éšæœºåˆ—è¡¨æŠ½æ ·
    
'''

import numpy as np 

arr01 = np.random.rand(3) # ç”Ÿæˆæœä»0-1å‡åŒ€åˆ†å¸ƒçš„ä¸‰ä¸ªéšæœºæ•°
print(arr01)

arr02 = np.random.rand(3,3) # æ³¨æ„è¿™é‡Œä¼ å…¥çš„ä¸æ˜¯å…ƒç»„ï¼Œæ¯ä¸ªç»´åº¦å¤§å°åˆ†å¼€è¾“å…¥
print(arr02)

# å¯¹äºæœä»åŒºé—´aåˆ°bä¸Šçš„å‡åŒ€åˆ†å¸ƒå¯ä»¥å¦‚ä¸‹ç”Ÿæˆ
a,b = 5,15
arr03 = (b - a) * np.random.rand(2,2) + a
print(arr03)

# randn ç”Ÿæˆäº† N(0,1) çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒ
arr04 = np.random.randn(3)
print(arr04)

arr05 = np.random.randn(2,2)
print(arr05)

# å¯¹äºæœä»æ–¹å·®ä¸º Ïƒ2 ,å‡å€¼ä¸º Î¼ çš„ä¸€å…ƒæ­£æ€åˆ†å¸ƒå¯ä»¥å¦‚ä¸‹ç”Ÿæˆ
sigma,mu = 2.5,3
arr06 = mu + np.random.randn(2,2) * sigma
print(arr06)

'''
[0.38315324 0.12044393 0.58867398]
[[0.55663665 0.32474479 0.79753092]
 [0.19868349 0.87332289 0.21547287]
 [0.17919124 0.68943672 0.75621964]]
[[ 6.57864932 11.69826487]
 [13.73869486  9.12119517]]
[-0.38387813  1.29116147  1.864059  ]
[[ 0.21267433 -0.03010171]
 [ 1.39688789 -0.57474523]]
[[2.42115033 2.59893279]
 [3.829758   5.2627406 ]]
'''
```



```python
# éšæœºçŸ©é˜µ02

import numpy as np 

# randint å¯ä»¥æŒ‡å®šç”Ÿæˆéšæœºæ•´æ•°çš„æœ€å°å€¼æœ€å¤§å€¼ï¼ˆä¸åŒ…å«ï¼‰å’Œç»´åº¦å¤§å°
low,high,size = 5,15,(2,2)
arr01 = np.random.randint(low,high,size)
print(arr01)

# choice å¯ä»¥ä»ç»™å®šçš„åˆ—è¡¨ä¸­ï¼Œä»¥ä¸€å®šæ¦‚ç‡å’Œæ–¹å¼æŠ½å–ç»“æœï¼Œå½“ä¸æŒ‡å®šæ¦‚ç‡æ—¶ä¸ºå‡åŒ€é‡‡æ ·ï¼Œé»˜è®¤æŠ½å–æ–¹å¼ä¸ºæœ‰æ”¾å›æŠ½æ ·
my_list = ['a','b','c','d']
arr_choice01 = np.random.choice(my_list,2,replace = False,p = [0.1,0.7,0.1,0.1])
print(arr_choice01)

arr_choice02 = np.random.choice(my_list,(2,2))
print(arr_choice02)

# å½“è¿”å›çš„å…ƒç´ ä¸ªæ•°ä¸åŸåˆ—è¡¨ç›¸åŒæ—¶ï¼Œç­‰ä»·äºä½¿ç”¨ permutation å‡½æ•°ï¼Œå³æ‰“æ•£åŸåˆ—è¡¨
arr_permutation = np.random.permutation(my_list)
print(arr_permutation)

# éœ€è¦æåˆ°çš„æ˜¯éšæœºç§å­ï¼Œå®ƒèƒ½å¤Ÿå›ºå®šéšæœºæ•°çš„è¾“å‡ºç»“æœ
np.random.seed(20201215)
arr_seed01 = np.random.rand()
print(arr_seed01)
np.random.seed(20201215)
arr_seed02 = np.random.rand()
print(arr_seed02)

'''
[[ 6 14]
 [12  8]]
['b' 'd']
[['d' 'a']
 ['a' 'd']]
['d' 'b' 'a' 'c']
0.4102719865683089
0.4102719865683089
'''
```



#### 2. npæ•°ç»„çš„å˜å½¢ä¸åˆå¹¶

- è½¬ç½®  `T`

```python
# è½¬ç½®
import numpy as np 

arr01 = np.zeros((2,3))
print(arr01)
arr02 = arr01.T
print(arr02)

'''
[[0. 0. 0.]
 [0. 0. 0.]]
[[0. 0.]
 [0. 0.]
 [0. 0.]]
'''
```

- åˆå¹¶æ“ä½œ  `r_` , `c_`

å¯¹äºäºŒç»´æ•°ç»„è€Œè¨€ï¼Œ `r_` å’Œ `c_` åˆ†åˆ«è¡¨ç¤ºä¸Šä¸‹åˆå¹¶å’Œå·¦å³åˆå¹¶

```python
# åˆå¹¶æ“ä½œ
import numpy as np

arr01 = np.zeros((2,3))
print(arr01)
arr_r = np.r_[arr01,arr01] # æ³¨æ„ r_ã€c_ç¬¦å·ç”¨ []
print(arr_r)
arr_c = np.c_[arr01,arr01]
print(arr_c)

'''
[[0. 0. 0.]
 [0. 0. 0.]]
[[0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]]
[[0. 0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0.]]
'''
```

ä¸€ç»´æ•°ç»„å’ŒäºŒç»´æ•°ç»„è¿›è¡Œåˆå¹¶æ—¶ï¼Œåº”å½“æŠŠå…¶è§†ä½œåˆ—å‘é‡ï¼Œåœ¨é•¿åº¦åŒ¹é…çš„æƒ…å†µä¸‹åªèƒ½å¤Ÿä½¿ç”¨å·¦å³åˆå¹¶çš„ `c_` æ“ä½œ

```python
# ä¸€ç»´æ•°ç»„ä¸äºŒç»´æ•°ç»„è¿›è¡Œåˆå¹¶
import numpy as np 

try:
    np.r_[np.array([0,0]),np.zeros((2,1))]
except Exception as e:
    Err_Msg = e
print(Err_Msg)

arr01 = np.r_[np.array([0,0]),np.zeros(2)]
print(arr01)

# ä¸€ç»´ä¸äºŒç»´ï¼Œå·¦å³åˆå¹¶
arr02 = np.c_[np.array([0,0]),np.zeros((2,3))]
print(arr02)

'''
all the input arrays must have same number of dimensions
[0. 0. 0. 0.]
[[0. 0. 0. 0.]
 [0. 0. 0. 0.]]
'''
```

- ç»´åº¦å˜æ¢   `reshape`

`reshape` èƒ½å¤Ÿå¸®åŠ©ç”¨æˆ·æŠŠåŸæ•°ç»„æŒ‰ç…§æ–°çš„ç»´åº¦é‡æ–°æ’åˆ—ã€‚åœ¨ä½¿ç”¨æ—¶æœ‰ä¸¤ç§æ¨¡å¼ï¼Œåˆ†åˆ«ä¸º `C` æ¨¡å¼å’Œ `F` æ¨¡å¼ï¼Œåˆ†åˆ«ä»¥é€è¡Œå’Œé€åˆ—çš„é¡ºåºè¿›è¡Œå¡«å……è¯»å–

```python
# ç»´åº¦å˜æ¢  reshape
import numpy as np 

target = np.arange(8).reshape(2,4)
print(target)

arr01 = target.reshape((4,2),order = 'C') #  æŒ‰ç…§è¡Œè¯»å–å’Œå¡«å……
print(arr01)

arr02 = target.reshape((4,2),order = 'F') #  æŒ‰ç…§åˆ—è¯»å–å’Œå¡«å……
print(arr02)

'''
[[0 1 2 3]
 [4 5 6 7]]
[[0 1]
 [2 3]
 [4 5]
 [6 7]]
[[0 2]
 [4 6]
 [1 3]
 [5 7]]
'''
```

ç‰¹åˆ«åœ°ï¼Œç”±äºè¢«è°ƒç”¨æ•°ç»„çš„å¤§å°æ˜¯ç¡®å®šçš„ï¼Œ reshape å…è®¸æœ‰ä¸€ä¸ªç»´åº¦å­˜åœ¨ç©ºç¼ºï¼Œæ­¤æ—¶åªéœ€å¡«å……**-1**å³å¯

```python 
import numpy as np 

target = np.arange(8).reshape(2,4)
print(target)

arr01 = target.reshape((4,-1))
print(arr01)

'''
[[0 1 2 3]
 [4 5 6 7]]
[[0 1]
 [2 3]
 [4 5]
 [6 7]]
'''
```

ä¸‹é¢å°† `n*1` å¤§å°çš„æ•°ç»„è½¬ä¸º1ç»´æ•°ç»„çš„æ“ä½œæ˜¯ç»å¸¸ä½¿ç”¨çš„

```python
import numpy as np 

target = np.ones((3,1))
print(target)

arr01 = target.reshape(-1) # -1 è½¬æ¢ä¸º1ç»´æ•°ç»„
print(arr01)
arr02 = target.T # è½¬ç½®
print(arr02)    # æ³¨æ„ æœ‰æ‰€ä¸åŒ

'''
[[1.]
 [1.]
 [1.]]
[1. 1. 1.]
[[1. 1. 1.]]
'''
```



#### 3. npæ•°ç»„çš„åˆ‡ç‰‡ä¸ç´¢å¼•

- æ•°ç»„çš„åˆ‡ç‰‡æ¨¡å¼æ”¯æŒä½¿ç”¨ `slice` ç±»å‹çš„ `start:end:step` åˆ‡ç‰‡ï¼Œè¿˜å¯ä»¥ç›´æ¥ä¼ å…¥åˆ—è¡¨æŒ‡å®šæŸä¸ªç»´åº¦çš„ç´¢å¼•è¿›è¡Œåˆ‡ç‰‡

```python 
# åˆ‡ç‰‡å’Œç´¢å¼•
import numpy as np 

target = np.arange(9).reshape(3,3)
print(target)
# åˆ‡ç‰‡
print(target[:-1,[0,2]]) # end(ä¸åŒ…å«), [0,2]è¡¨ç¤ºç¬¬1åˆ—å’Œç¬¬3åˆ—

'''
[[0 1 2]
 [3 4 5]
 [6 7 8]]
[[0 2]
 [3 5]]
'''
```

- æ­¤å¤–ï¼Œè¿˜å¯ä»¥åˆ©ç”¨ `np.ix_` åœ¨å¯¹åº”çš„ç»´åº¦ä¸Šä½¿ç”¨å¸ƒå°”ç´¢å¼•ï¼Œä½†æ­¤æ—¶ä¸èƒ½ä½¿ç”¨ `slice` åˆ‡ç‰‡ **(**å…ˆè¡Œååˆ—**)** **(**æœ€å¤–å±‚åˆ°æœ€å†…å±‚**)**

```python 
# np.ix_åˆ‡ç‰‡ç´¢å¼•
import numpy as np 

target = np.arange(9).reshape(3,3)
print(target)

print(target[np.ix_([True,False,True],[True,False,True])]) # åˆ‡ç‰‡

print(target[np.ix_([1,2],[True,False,True])]) # ç»„åˆåˆ‡ç‰‡ np.ix_å’Œç»´åº¦

'''
[[0 1 2]
 [3 4 5]
 [6 7 8]]
[[0 2]
 [6 8]]
[[3 5]
 [6 8]]
'''
```

- å½“æ•°ç»„ç»´åº¦ä¸º1ç»´æ—¶ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œå¸ƒå°”ç´¢å¼•ï¼Œè€Œæ— éœ€ `np.ix_` 

```python 
# ä¸€ç»´ç´¢å¼•
import numpy as np 

target = np.arange(9).reshape(3,3)
print(target)

new_target = target.reshape(-1) # è½¬æ¢ä¸ºä¸€ç»´æ•°ç»„
print(new_target)
print(new_target[new_target % 2 == 0])

'''
[[0 1 2]
 [3 4 5]
 [6 7 8]]
[0 1 2 3 4 5 6 7 8]
[0 2 4 6 8]
'''
```



#### 4. å¸¸ç”¨å‡½æ•°

ä¸ºäº†ç®€å•èµ·è§ï¼Œè¿™é‡Œå‡è®¾ä¸‹è¿°å‡½æ•°è¾“å…¥çš„æ•°ç»„éƒ½æ˜¯ä¸€ç»´çš„

- where

`where` æ˜¯ä¸€ç§æ¡ä»¶å‡½æ•°ï¼Œå¯ä»¥æŒ‡å®šæ»¡è¶³æ¡ä»¶ä¸ä¸æ»¡è¶³æ¡ä»¶ä½ç½®å¯¹åº”çš„å¡«å……å€¼

```python 
# whereå‡½æ•°
import numpy as np 

a = np.array([-1,1,-1,0])
print(a)

b = np.where(a > 0,a,5) # ç±»ä¼¼äº ? è¡¨è¾¾å¼ï¼ˆå¯æƒœpythonä¸­æ²¡æœ‰ï¼‰
print(b)

'''
[-1  1 -1  0]
[5 1 5 5]
'''
```

- nonzero , argmax , argmin

è¿™ä¸‰ä¸ªå‡½æ•°è¿”å›çš„éƒ½æ˜¯ç´¢å¼•ï¼Œ `nonzero` è¿”å›éé›¶æ•°çš„ç´¢å¼•ï¼Œ `argmax, argmin` åˆ†åˆ«è¿”å›æœ€å¤§å’Œæœ€å°æ•°çš„ç´¢å¼•

æ–¹æ³•å¦‚ä¸‹ï¼š  `a.nonzero()` æˆ– `np.nonzero(a)`ï¼Œå…¶ä»–å‡½æ•°ç±»ä¼¼

```python 
# nonzero , argmax , argmin å‡½æ•°
import numpy as np 

a = np.array([-2,-5,0,1,3,-1])
print(a)
print(np.nonzero(a)) # éé›¶ç´¢å¼•
print(np.argmax(a)) # æœ€å¤§å€¼ç´¢å¼•
print(np.argmin(a)) # æœ€å°å€¼ç´¢å¼•

# è¿˜å¯ä»¥å¦‚ä¸‹
print("============")
print(a.nonzero())
print(a.argmax())
print(a.argmin())

'''
[-2 -5  0  1  3 -1]
(array([0, 1, 3, 4, 5], dtype=int64),)
4
1
============
(array([0, 1, 3, 4, 5], dtype=int64),)
4
1
'''
```

- any , all

`any` æŒ‡å½“åºåˆ—è‡³å°‘ å­˜åœ¨ä¸€ä¸ª `True` æˆ–éé›¶å…ƒç´ æ—¶è¿”å› `True` ï¼Œå¦åˆ™è¿”å› `False`

`all` æŒ‡å½“åºåˆ—å…ƒç´  å…¨ä¸º `True` æˆ–éé›¶å…ƒç´ æ—¶è¿”å› `True` ï¼Œå¦åˆ™è¿”å› `False`

```python 
# any , all
import numpy as np 

a = np.array([0,1])
print(a)
print(a.any())
print(a.all())
print("===============")
print(np.any(a))
print(np.all(a))

'''
[0 1]
True
False
===============
True
False
'''
```

- cumprod , cumsum , diff

`cumprod, cumsum` åˆ†åˆ«è¡¨ç¤ºç´¯ä¹˜å’Œç´¯åŠ å‡½æ•°ï¼Œè¿”å›åŒé•¿åº¦çš„æ•°ç»„ï¼Œ `diff` è¡¨ç¤ºå’Œå‰ä¸€ä¸ªå…ƒç´ åšå·®ï¼Œç”±äºç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºç¼ºå¤±å€¼ï¼Œå› æ­¤åœ¨é»˜è®¤å‚æ•°æƒ…å†µä¸‹ï¼Œè¿”å›é•¿åº¦æ˜¯åŸæ•°ç»„å‡1

```python 
# cumprod , cumsum , diff
import numpy as np 

a = np.array([1,2,3])
print(a)

print(a.cumprod())
print(a.cumsum())
print(np.diff(a)) # a.diff() å‡ºé”™  'numpy.ndarray' object has no attribute  'diff'

'''
[1 2 3]
[1 2 6] ç´¯ä¹˜
[1 3 6] ç´¯åŠ 
[1 1]
'''
```

- ç»Ÿè®¡å‡½æ•°

å¸¸ç”¨çš„ç»Ÿè®¡å‡½æ•°åŒ…æ‹¬ `max, min, mean, median, std, var, sum, quantile` ï¼Œå…¶ä¸­åˆ†ä½æ•°è®¡ç®—æ˜¯å…¨å±€æ–¹æ³•ï¼Œå› æ­¤ä¸èƒ½é€šè¿‡ `array.quantile` çš„æ–¹æ³•è°ƒç”¨

|   å‡½æ•°   |        å«ä¹‰        |
| :------: | :----------------: |
|   max    | æœ€å¤§å€¼(ä¸amaxç›¸åŒ) |
|   min    |    æœ€å°å€¼(amin)    |
|   mean   |       å¹³å‡å€¼       |
|  median  |       ä¸­ä½æ•°       |
|   std    |       æ ‡å‡†å·®       |
|   var    |        æ–¹å·®        |
|   sum    |         å’Œ         |
| quantile |       åˆ†ä½æ•°       |
|   ptp    |        æå€¼        |

```python
# ç»Ÿè®¡å‡½æ•°
import numpy as np 

target = np.arange(5)
print(target)

print(target.max()) # æœ€å¤§å€¼
print(np.quantile(a,0.5)) # 0.5åˆ†ä½æ•°

'''
[0 1 2 3 4]
4
2.0
'''
```

ä½†æ˜¯å¯¹äºå«æœ‰ç¼ºå¤±å€¼çš„æ•°ç»„ï¼Œå®ƒä»¬è¿”å›çš„ç»“æœä¹Ÿæ˜¯ç¼ºå¤±å€¼ï¼Œå¦‚æœéœ€è¦ç•¥è¿‡ç¼ºå¤±å€¼ï¼Œå¿…é¡»ä½¿ç”¨ `nan*` ç±»å‹çš„å‡½æ•°ï¼Œä¸Šè¿°çš„å‡ ä¸ªç»Ÿè®¡å‡½æ•°éƒ½æœ‰å¯¹åº”çš„ `nan*` å‡½æ•°

```python
# nan*
import numpy as np 

target = np.array([1,2,np.nan])
print(target)

print(target.max())
print(np.nanmax(target))
print(np.nanquantile(target,0.5))

'''
[ 1.  2. nan]
nan
2.0
1.5
'''
```

å¯¹äºåæ–¹å·®å’Œç›¸å…³ç³»æ•°åˆ†åˆ«å¯ä»¥åˆ©ç”¨ `cov, corrcoef` å¦‚ä¸‹è®¡ç®—

```python 
# åæ–¹å·®å’Œç›¸å…³ç³»æ•°
import numpy as np 

target1 = np.array([1,3,5,9])
print(target1)
target2 = np.array([1,5,3,-9])
print(target2)

print(np.cov(target1,target2)) # åæ–¹å·®
print(np.corrcoef(target1,target2)) # ç›¸å…³ç³»æ•°

'''
[1 3 5 9]
[ 1  5  3 -9]
[[ 11.66666667 -16.66666667]
 [-16.66666667  38.66666667]]
[[ 1.         -0.78470603]
 [-0.78470603  1.        ]]
'''
```

æœ€åï¼Œéœ€è¦è¯´æ˜äºŒç»´ `Numpy` æ•°ç»„ä¸­ç»Ÿè®¡å‡½æ•°çš„ `axis` å‚æ•°ï¼Œå®ƒèƒ½å¤Ÿè¿›è¡ŒæŸä¸€ä¸ªç»´åº¦ä¸‹çš„ç»Ÿè®¡ç‰¹å¾è®¡ç®—ï¼Œå½“ `axis=0` æ—¶ç»“æœä¸ºåˆ—çš„ç»Ÿè®¡æŒ‡æ ‡ï¼Œå½“ `axis=1` æ—¶ç»“æœä¸ºè¡Œçš„ç»Ÿè®¡æŒ‡æ ‡

```python 
# ç»´åº¦å‚æ•° axis
import numpy as np 

target = np.arange(1,10).reshape(3,-1)
print(target)

# axis = 0 
print(target.sum(0))
# axis = 1
print(target.sum(1))

'''
[[1 2 3]
 [4 5 6]
 [7 8 9]]
[12 15 18]
[ 6 15 24]
'''
```



#### 5. å¹¿æ’­æœºåˆ¶

å¹¿æ’­æœºåˆ¶ç”¨äºå¤„ç†ä¸¤ä¸ªä¸åŒç»´åº¦æ•°ç»„ä¹‹é—´çš„æ“ä½œï¼Œè¿™é‡Œåªè®¨è®ºä¸è¶…è¿‡ä¸¤ç»´çš„æ•°ç»„å¹¿æ’­æœºåˆ¶

- æ ‡é‡å’Œæ•°ç»„çš„æ“ä½œ

å½“ä¸€ä¸ªæ ‡é‡å’Œæ•°ç»„è¿›è¡Œè¿ç®—æ—¶ï¼Œæ ‡é‡ä¼šè‡ªåŠ¨æŠŠå¤§å°æ‰©å……ä¸ºæ•°ç»„å¤§å°ï¼Œä¹‹åè¿›è¡Œé€å…ƒç´ æ“ä½œ

```python 
# å¹¿æ’­æœºåˆ¶ æ ‡é‡å’Œæ•°ç»„æ“ä½œ
import numpy as np 

one = np.ones((2,2))
print(one)

res = 3 * one + 1
print(res)

ress = 1 / res
print(ress)

'''
[[1. 1.]
 [1. 1.]]
[[4. 4.]
 [4. 4.]]
[[0.25 0.25]
 [0.25 0.25]]
'''
```

- äºŒç»´æ•°ç»„ä¹‹é—´çš„æ“ä½œ

å½“ä¸¤ä¸ªæ•°ç»„ç»´åº¦å®Œå…¨ä¸€è‡´æ—¶ï¼Œä½¿ç”¨å¯¹åº”å…ƒç´ çš„æ“ä½œï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œé™¤éå…¶ä¸­çš„æŸä¸ªæ•°ç»„çš„ç»´åº¦æ˜¯ **mÃ—1** æˆ–è€… **1Ã—n** ï¼Œé‚£ä¹ˆä¼šæ‰©å……å…¶å…·æœ‰ **1** çš„ç»´åº¦ä¸ºå¦ä¸€ä¸ªæ•°ç»„å¯¹åº”ç»´åº¦çš„å¤§å°ã€‚ä¾‹å¦‚ï¼Œ **1Ã—2** æ•°ç»„å’Œ **3Ã—2** æ•°ç»„åšé€å…ƒç´ è¿ç®—æ—¶ä¼šæŠŠç¬¬ä¸€ä¸ªæ•°ç»„æ‰©å……ä¸º **3Ã—2** ï¼Œæ‰©å……æ—¶çš„å¯¹åº”æ•°å€¼è¿›è¡Œèµ‹å€¼ã€‚ä½†æ˜¯ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ•°ç»„çš„ç»´åº¦æ˜¯ **1Ã—3** ï¼Œé‚£ä¹ˆç”±äºåœ¨ç¬¬äºŒç»´ä¸Šçš„å¤§å°ä¸åŒ¹é…ä¸”ä¸ä¸º **1** ï¼Œæ­¤æ—¶æŠ¥é”™

```python 
# å¹¿æ’­æœºåˆ¶ äºŒç»´æ•°ç»„ä¹‹é—´æ“ä½œ
import numpy as np 

res1 = np.array([2,3])
print(res1)
res2 = np.ones((3,2))
print(res2)
res3 = np.array([[2],[3],[4]])
print(res3)
res4 = np.array([2])
print(res4)

print("====================")

result1 = res1 * res2 # res1æ‰©å……ç¬¬ä¸€ç»´åº¦ä¸º3
print(result1)
result2 = res2 * res3 # res3æ‰©å……ç¬¬äºŒç»´åº¦ä¸º2
print(result2)
result3 = res2 * res4 # res4æ‰©å……ä¸¤æ¬¡
print(result3)

'''
[2 3]
[[1. 1.]
 [1. 1.]
 [1. 1.]]
[[2]
 [3]
 [4]]
[2]
====================
[[2. 3.]
 [2. 3.]
 [2. 3.]]
[[2. 2.]
 [3. 3.]
 [4. 4.]]
[[2. 2.]
 [2. 2.]
 [2. 2.]]
'''
```

- ä¸€ç»´æ•°ç»„ä¸äºŒç»´æ•°ç»„çš„æ“ä½œ

![image-20201216164153491](https://gitee.com/smithbee/image_bed/raw/master/image-20201216164153491.png)

```python 
# å¹¿æ’­æœºåˆ¶ ä¸€ç»´æ•°ç»„ä¸äºŒç»´æ•°ç»„çš„æ“ä½œ
import numpy as np 

res1 = np.ones(3)
print(res1)
res2 = np.ones((2,3))
print(res2)
res3 = np.ones((2,1))
print(res3)
res4 = np.ones(1)
print(res4)
print("=================")
result1 = res1 + res2
print(result1)
result2 = res1 + res3  # æ‰©å……ä¸ºç»´åº¦å¤§çš„çŸ©é˜µ
print(result2)
result3 = res4 + res2
print(result3)

'''
[1. 1. 1.]
[[1. 1. 1.]
 [1. 1. 1.]]
[[1.]
 [1.]]
[1.]
=================
[[2. 2. 2.]
 [2. 2. 2.]]
[[2. 2. 2.]
 [2. 2. 2.]]
[[2. 2. 2.]
 [2. 2. 2.]]
'''
```



#### 6. å‘é‡ä¸çŸ©é˜µçš„è®¡ç®—

- å‘é‡å†…ç§¯    `dot`

![image-20201216170956675](https://gitee.com/smithbee/image_bed/raw/master/image-20201216170956675.png)

```python
# å‘é‡å†…ç§¯
import numpy as np 

a = np.array([1,2,3])
print(a)
b = np.array([1,3,5])
print(b)

result = a.dot(b)
print(result)

'''
[1 2 3]
[1 3 5]
22
'''
```

- å‘é‡èŒƒæ•°å’ŒçŸ©é˜µèŒƒæ•°     `np.linalg.norm`

å‘é‡èŒƒæ•°å’ŒçŸ©é˜µèŒƒæ•°çš„è¯´æ˜ï¼š[å‘é‡èŒƒæ•°å’ŒçŸ©é˜µèŒƒæ•°](https://zhuanlan.zhihu.com/p/164601936)

åœ¨çŸ©é˜µèŒƒæ•°çš„è®¡ç®—ä¸­ï¼Œæœ€é‡è¦çš„æ˜¯ `ord` å‚æ•°ï¼Œå¯é€‰å€¼å¦‚ä¸‹

![image-20201216171505748](https://gitee.com/smithbee/image_bed/raw/master/image-20201216171505748.png)

```python 
# èŒƒæ•°
import numpy as np 

martix_target = np.arange(4).reshape(-1,2)
print(martix_target)
print(np.linalg.norm(martix_target,'fro'))
print(np.linalg.norm(martix_target,np.inf))
print(np.linalg.norm(martix_target,2))

print("=====================")

vector_target = np.arange(4)
print(vector_target)
print(np.linalg.norm(vector_target,np.inf))
print(np.linalg.norm(vector_target,2))
print(np.linalg.norm(vector_target,3))

'''
[[0 1]
 [2 3]]
3.7416573867739413
5.0
3.702459173643833
=====================
[0 1 2 3]
3.0
3.7416573867739413
3.3019272488946263
'''
```

- çŸ©é˜µä¹˜æ³•    `@`

![image-20201216185733258](https://gitee.com/smithbee/image_bed/raw/master/image-20201216185733258.png)

```python
# çŸ©é˜µä¹˜æ³•
import numpy as np 

a = np.arange(4).reshape(-1,2)
print(a)
b = np.arange(-4,0).reshape(-1,2)
print(b)
result = a @ b 
print(result)

'''
[[0 1]
 [2 3]]
[[-4 -3]
 [-2 -1]]
[[ -2  -1]
 [-14  -9]]
'''
```



### ä¸‰ã€ç»ƒä¹ 

#### 1. åˆ©ç”¨åˆ—è¡¨æ¨å¯¼å¼å†™çŸ©é˜µä¹˜æ³•

- **numpy.empty**(shape, dtype=float, order=â€˜Câ€™) ï¼š æ ¹æ®ç»™å®šçš„ç»´åº¦å’Œæ•°å€¼ç±»å‹è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå…¶å…ƒç´ ä¸è¿›è¡Œåˆå§‹åŒ–

| å˜é‡å |        æ•°æ®ç±»å‹        |                             åŠŸèƒ½                             |
| :----: | :--------------------: | :----------------------------------------------------------: |
| shape  | æ•´æ•°æˆ–è€…æ•´æ•°ç»„æˆçš„å…ƒç»„ |             ç©ºæ•°ç»„çš„ç»´åº¦ï¼Œä¾‹å¦‚ï¼š`(2, 3)`æˆ–è€…`2`              |
| dtype  |   æ•°å€¼ç±»å‹ï¼Œå¯é€‰å‚æ•°   | æŒ‡å®šè¾“å‡ºæ•°ç»„çš„æ•°å€¼ç±»å‹ï¼Œä¾‹å¦‚`numpy.int8`ã€‚é»˜è®¤ä¸º`numpy.float64`ã€‚ |
| order  |  {â€˜Câ€™, â€˜Fâ€™}ï¼Œå¯é€‰å‚æ•°  |       æ˜¯å¦åœ¨å†…å­˜ä¸­ä»¥Cæˆ–fortran(è¡Œæˆ–åˆ—)é¡ºåºå­˜å‚¨å¤šç»´æ•°æ®       |

`empty`ä¸åƒ`zeros`ä¸€æ ·ï¼Œå¹¶ä¸ä¼šå°†æ•°ç»„çš„å…ƒç´ å€¼è®¾å®šä¸º0ï¼Œå› æ­¤è¿è¡Œèµ·æ¥å¯èƒ½å¿«ä¸€äº›ã€‚åœ¨å¦ä¸€æ–¹é¢ï¼Œå®ƒè¦æ±‚ç”¨æˆ·äººä¸ºåœ°ç»™æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ èµ‹å€¼ï¼Œæ‰€ä»¥åº”è¯¥è°¨æ…ä½¿ç”¨

```python
# numpy.empty
import numpy as np 

a = np.empty((2,2))
print(a)
b = np.zeros((2,2))
print(b)

'''
[[0. 0.]
 [0. 0.]]
[[0. 0.]
 [0. 0.]]
'''
```

- **numpy.array.shape**

numpy åˆ›å»ºçš„æ•°ç»„éƒ½æœ‰ä¸€ä¸ªshapeå±æ€§ï¼Œå®ƒæ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œè¿”å›å„ä¸ªç»´åº¦çš„ç»´æ•°ã€‚æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½éœ€è¦çŸ¥é“æŸä¸€ç»´çš„ç‰¹å®šç»´æ•°

shape[0]è¡¨ç¤ºæœ€å¤–å›´çš„æ•°ç»„çš„ç»´æ•°ï¼Œshape[1]è¡¨ç¤ºæ¬¡å¤–å›´çš„æ•°ç»„çš„ç»´æ•°ï¼Œæ•°å­—ä¸æ–­å¢å¤§ï¼Œç»´æ•°ç”±å¤–åˆ°å†…

```python
# numpy.shape
import numpy as np 

x = np.array([[[1,2,3],[4,5,6]],[[7,8,9],[0,1,2]],[[3,4,5],[6,7,8]]])
print(x)

print("==================")
print(x.shape)
print(x.shape[0])
print(x.shape[1])
print(x.shape[2])

'''
[[[1 2 3]
  [4 5 6]]

 [[7 8 9]
  [0 1 2]]

 [[3 4 5]
  [6 7 8]]]
==================
(3, 2, 3)
3
2
3
'''
```



**é¢˜ç›®**

ä¸€èˆ¬çš„çŸ©é˜µä¹˜æ³•æ ¹æ®å…¬å¼ï¼Œå¯ä»¥ç”±ä¸‰é‡å¾ªç¯å†™å‡º

```python
# ç»ƒä¹  1  ä¸‰é‡å¾ªç¯
import numpy as np 

M1 = np.random.rand(2,3)
print(M1)
M2 = np.random.rand(3,4)
print(M2)
res = np.empty((M1.shape[0],M2.shape[1]))
print(res)

# çŸ©é˜µä¹˜æ³•
for i in range(M1.shape[0]):
    for j in range(M2.shape[1]):
        item = 0
        for k in range(M1.shape[1]):
            item += M1[i][k] * M2[k][j]
        res[i][j] = item

print(((M1 @ M2 - res) < 1e-15).all())  # æ’é™¤æ•°å€¼è¯¯å·®

'''
[[0.99337527 0.36524304 0.85329933]
 [0.45951714 0.80551173 0.30855875]]
[[0.81295248 0.96892189 0.49708572 0.90129861]
 [0.85357571 0.5645595  0.51336681 0.73962945]
 [0.09469644 0.0047622  0.16766094 0.23720669]]
[[3.5 1.5 0.5 4.5]
 [1.  5.  3.  9. ]]
True
'''
```

åˆ©ç”¨åˆ—è¡¨æ¨å¯¼å¼å†™çŸ©é˜µä¹˜æ³•

```python
# åˆ—è¡¨æ¨å¯¼å¼å†™çŸ©é˜µä¹˜æ³•
import numpy as np 

M1 = np.random.rand(2,3)
print(M1)
M2 = np.random.rand(3,4)
print(M2)

res = np.empty((M1.shape[0],M2.shape[1]))
print(res)

res = [[sum([M1[i][k] * M2[k][j] for k in range(M1.shape[1])]) for j in range(M2.shape[1])] for i in range(M1.shape[0])]

print(((M1 @ M2 - res) < 1e-15).all())

'''
[[0.74403318 0.3472746  0.86100323]
 [0.27047585 0.95432698 0.75657926]]
[[0.61937321 0.70487147 0.97848333 0.534197  ]
 [0.1272389  0.75809047 0.75214979 0.40443144]
 [0.26317261 0.86496878 0.46693493 0.08052959]]
[[1.49503606 0.67283691 0.72008662 1.22812569]
 [0.60608374 0.21715434 0.34631747 0.59446545]]
True
'''
```

#### 2. æ›´æ–°çŸ©é˜µ

![image-20201216205223069](https://gitee.com/smithbee/image_bed/raw/master/image-20201216205223069.png)

```python
# æ›´æ–°çŸ©é˜µ æ™®é€šæ–¹æ³•
import numpy as np 

A = np.arange(1,10).reshape((3,-1))
print(A)
B = np.empty(A.shape)
for i in range(A.shape[0]):
    for j in range(A.shape[1]):
        item = 0
        for k in range(A.shape[1]):
            item += 1/A[i][k]
        B[i][j] = A[i][j] * item 
print(B)

'''
[[1 2 3]
 [4 5 6]
 [7 8 9]]
[[1.83333333 3.66666667 5.5       ]
 [2.46666667 3.08333333 3.7       ]
 [2.65277778 3.03174603 3.41071429]]
'''
```

```python
# æ›´æ–°çŸ©é˜µ numpyé«˜æ•ˆ
import numpy as np 

A = np.arange(1,10).reshape((3,-1))
print(A)
B = A * (1/A).sum(1).reshape(-1,1)
print(B)

'''
[[1 2 3]
 [4 5 6]
 [7 8 9]]
[[1.83333333 3.66666667 5.5       ]
 [2.46666667 3.08333333 3.7       ]
 [2.65277778 3.03174603 3.41071429]]
'''
```

```python
# ç†è§£
print(1/A)
'''
[[1.         0.5        0.33333333]
 [0.25       0.2        0.16666667]
 [0.14285714 0.125      0.11111111]]
'''

print(A.sum(1))
'''
[ 6 15 24]
'''
```

#### 3. å¡æ–¹ç»Ÿè®¡é‡

![image-20201216211817850](https://gitee.com/smithbee/image_bed/raw/master/image-20201216211817850.png)

```python
# å¡æ–¹ç»Ÿè®¡é‡
import numpy as np 

# è®¾ç½®éšæœºæ•°ç§å­
np.random.seed(0)
A = np.random.randint(10,20,(8,5))
print(A)
B = A.sum(0) * A.sum(1).reshape(-1,1) / A.sum()
print(B)
res = ((A - B) ** 2 / B).sum()
print(res)

'''
[[15 10 13 13 17]
 [19 13 15 12 14]
 [17 16 18 18 11]
 [16 17 17 18 11]
 [15 19 18 19 14]
 [13 10 13 15 10]
 [12 13 18 11 13]
 [13 13 17 10 11]]
[[14.14211438 13.08145581 15.20277296 13.67071057 11.90294627]
 [15.18197574 14.04332756 16.32062392 14.67590988 12.77816291]
 [16.63778163 15.38994801 17.88561525 16.08318891 14.0034662 ]
 [16.42980936 15.19757366 17.66204506 15.88214905 13.82842288]
 [17.67764298 16.35181976 19.0034662  17.08838821 14.87868284]
 [12.68630849 11.73483536 13.63778163 12.26343154 10.67764298]
 [13.93414211 12.88908146 14.97920277 13.46967071 11.72790295]
 [13.3102253  12.31195841 14.3084922  12.86655113 11.20277296]]
11.842696601945802
'''
```

#### 4. æ”¹è¿›çŸ©é˜µè®¡ç®—çš„æ€§èƒ½

![image-20201216213128365](https://gitee.com/smithbee/image_bed/raw/master/image-20201216213128365.png)

ç°æœ‰æŸäººæ ¹æ®å¦‚ä¸‹ç»™å®šçš„æ ·ä¾‹æ•°æ®è®¡ç®— R çš„å€¼ï¼Œè¯·å……åˆ†åˆ©ç”¨ `Numpy` ä¸­çš„å‡½æ•°ï¼ŒåŸºäºæ­¤é—®é¢˜æ”¹è¿›è¿™æ®µä»£ç çš„æ€§èƒ½

åŸæ–¹æ³•ï¼š

```python
# æ”¹è¿›çŸ©é˜µçš„æ€§èƒ½
import numpy as np 

np.random.seed(0)
m,n,p = 100,80,50

B = np.random.randint(0,2,(m,p))
print(B)
U = np.random.randint(0,2,(p,n))
print(U)
Z = np.random.randint(0,2,(m,n))
print(Z)
print("==================")

def solution(B = B,U = U,Z = Z):
    L_res = []
    for i in range(m):
        for j in range(n):
            norm_value = ((B[i] - U[:,j]) ** 2).sum()
            L_res.append(norm_value * Z[i][j])
    return sum(L_res)

print(solution(B,U,Z))

'''
[1 0 0 ... 1 1 1]
 ...
 [1 0 0 ... 1 1 0]
 [0 0 0 ... 1 1 0]
 [0 1 1 ... 1 1 1]]
[[1 0 1 ... 1 1 0]
 [0 0 0 ... 0 0 1]
 [0 1 0 ... 0 1 1]
 ...
 [1 0 1 ... 1 0 1]
 [0 0 1 ... 0 0 0]
 [1 1 0 ... 0 0 1]]
[[1 0 0 ... 1 0 0]
 [0 1 1 ... 1 1 0]
 [1 0 1 ... 0 1 1]
 ...
 [0 1 0 ... 1 1 0]
 [1 0 0 ... 1 1 0]
 [0 0 0 ... 0 0 1]]
==================
100566
'''
```

æ”¹è¿›æ–¹æ³•ï¼š

![image-20201216214417312](https://gitee.com/smithbee/image_bed/raw/master/image-20201216214417312.png)

```python 
# æ”¹è¿›æ–¹æ³•
import numpy as np 

np.random.seed(0)
m,n,p = 100,80,50

B = np.random.randint(0,2,(m,p))
print(B)
U = np.random.randint(0,2,(p,n))
print(U)
Z = np.random.randint(0,2,(m,n))
print(Z)
print("==================")

print((((B**2).sum(1).reshape(-1,1) + (U**2).sum(0) - 2*B@U)*Z).sum())

'''
[[0 1 1 ... 1 0 1]
 [0 1 1 ... 1 1 0]
 [1 0 0 ... 1 1 1]
 ...
 [1 0 0 ... 1 1 0]
 [0 0 0 ... 1 1 0]
 [0 1 1 ... 1 1 1]]
[[1 0 1 ... 1 1 0]
 [0 0 0 ... 0 0 1]
 [0 1 0 ... 0 1 1]
 ...
 [1 0 1 ... 1 0 1]
 [0 0 1 ... 0 0 0]
 [1 1 0 ... 0 0 1]]
[[1 0 0 ... 1 0 0]
 [0 1 1 ... 1 1 0]
 [1 0 1 ... 0 1 1]
 ...
 [0 1 0 ... 1 1 0]
 [1 0 0 ... 1 1 0]
 [0 0 0 ... 0 0 1]]
==================
100566
'''
```

å¯¹æ¯”æ€§èƒ½ï¼š

```python
# å¯¹æ¯”æ€§èƒ½
%timeit -n 30 solution(B, U, Z)

'''
45.7 ms Â± 1.96 ms per loop (mean Â± std. dev. of 7 runs, 30 loops each)
'''
```

```python
%timeit -n 30 ((np.ones((m,n))*(B**2).sum(1).reshape(-1,1) +\
              np.ones((m,n))*(U**2).sum(0) - 2*B@U)*Z).sum()

'''
688 Âµs Â± 78.3 Âµs per loop (mean Â± std. dev. of 7 runs, 30 loops each)
'''
```

#### 5. è¿ç»­æ•´æ•°çš„æœ€å¤§é•¿åº¦

è¾“å…¥ä¸€ä¸ªæ•´æ•°çš„ `Numpy` æ•°ç»„ï¼Œè¿”å›å…¶ä¸­é€’å¢è¿ç»­æ•´æ•°å­æ•°ç»„çš„æœ€å¤§é•¿åº¦ã€‚ä¾‹å¦‚ï¼Œè¾“å…¥ [1,2,5,6,7]ï¼Œ[5,6,7]ä¸ºå…·æœ‰æœ€å¤§é•¿åº¦çš„é€’å¢è¿ç»­æ•´æ•°å­æ•°ç»„ï¼Œå› æ­¤è¾“å‡º3ï¼›è¾“å…¥[3,2,1,2,3,4,6]ï¼Œ[1,2,3,4]ä¸ºå…·æœ‰æœ€å¤§é•¿åº¦çš„é€’å¢è¿ç»­æ•´æ•°å­æ•°ç»„ï¼Œå› æ­¤è¾“å‡º4ã€‚è¯·å……åˆ†åˆ©ç”¨ `Numpy` çš„å†…ç½®å‡½æ•°å®Œæˆã€‚ï¼ˆæç¤ºï¼šè€ƒè™‘ä½¿ç”¨ `nonzero, diff` å‡½æ•°ï¼‰

```python 
# æ±‚è¿ç»­æ•´æ•°çš„æœ€å¤§é•¿åº¦ å‚è€ƒç­”æ¡ˆçœŸç‰›çš® è‡ªå·±è¿˜å·®å¾ˆå¤šç‚¹ğŸ˜‚
import numpy as np 

f = lambda x:np.diff(np.nonzero(np.r_[1,np.diff(x)!=1,1])).max()
print(f([1,2,5,6,7]))
print(f([3,2,1,2,3,4,6]))

'''
3
4
'''
```

